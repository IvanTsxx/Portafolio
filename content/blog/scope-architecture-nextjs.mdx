---
title: Dominando la Arquitectura en Next.js 15 - La Regla del Scope
description: Aprende a estructurar tus proyectos Next.js 15+ para escalar sin caos usando la Regla del Scope y Server Components.
keywords: ["Next.js", "Arquitectura", "React", "Clean Code", "Scope Rule"]
---

Â¿Alguna vez te has sentido perdido navegando en un proyecto de Next.js donde todo estÃ¡ mezclado en carpetas genÃ©ricas como `components`, `hooks` y `utils`?

Es un problema comÃºn. A medida que la aplicaciÃ³n crece, encontrar *dÃ³nde* vive cada pieza de cÃ³digo se vuelve una pesadilla.

La soluciÃ³n no es mÃ¡s carpetas genÃ©ricas. La soluciÃ³n es **La Regla del Scope**.

## Â¿QuÃ© es la Regla del Scope?

Es un principio arquitectÃ³nico simple pero poderoso:

> **"El alcance de uso determina la ubicaciÃ³n del archivo."**

OlvÃ­date de agrupar por *tIPO* de archivo (todos los componentes juntos, todos los hooks juntos). Empieza a agrupar por *POBLACIÃ“N* de uso:

1.  **Uso Local (1 Feature)**: Si un componente solo se usa en el Dashboard, debe vivir **DENTRO** de la carpeta del Dashboard.
2.  **Uso Compartido (2+ Features)**: Solo si un componente se usa en el Dashboard Y en el Perfil, entonces (y solo entonces) se promueve a una carpeta `shared`.

---

## Screaming Architecture en Next.js 15

Tu estructura de carpetas debe "Gritar" (Scream) de quÃ© trata tu aplicaciÃ³n, no quÃ© framework usas.

**âŒ Estructura Silenciosa (El viejo modo):**
```text
src/
  components/    # Â¿QuÃ© hay aquÃ­? Â¿Botones? Â¿Formularios de login?
  hooks/         # Â¿Hooks de quÃ©?
  pages/         # Rutas mezcladas
```

**âœ… Estructura que Grita (Scope Rule):**
```text
src/
  app/
    (auth)/           # Â¡Ah! AquÃ­ estÃ¡ la autenticaciÃ³n
      login/
      _components/    # Componentes exclusivos del login
    (dashboard)/      # AquÃ­ estÃ¡ el panel de control
      ventas/
      _components/    # GrÃ¡ficos exclusivos de ventas
  shared/             # Solo lo verdaderamente reutilizable
```

Al abrir el proyecto, un desarrollador nuevo sabe exactamente quÃ© *hace* la aplicaciÃ³n sin leer una sola lÃ­nea de cÃ³digo.

---

## Server Components por Defecto

En Next.js 15, la arquitectura tambiÃ©n es rendimiento.

*   **Server First**: Todo componente es de Servidor por defecto.
*   **Cliente TÃ¡ctico**: Solo aÃ±ade `'use client'` cuando necesites interactividad real (`useState`, `useEffect`, `onClick`).
*   **ColocaciÃ³n**: Pon tus Server Actions (`_actions.ts`) justo al lado del formulario que los usa.

### Ejemplo PrÃ¡ctico

Imagina un **Widget de Precios** que solo se usa en la pÃ¡gina de **Checkout**.

**AntipatrÃ³n**:
Crear `src/components/PriceWidget.tsx`.
*Problema*: Contaminas la carpeta global con algo que nadie mÃ¡s usa.

**PatrÃ³n Scope Rule**:
Crear `src/app/(shop)/checkout/_components/price-widget.tsx`.
*Ventaja*: EstÃ¡ encapsulado. Si borras la ruta de checkout, borras el widget automÃ¡ticamente. Limpieza garantizada.

---

## Tu Checklist de Arquitectura

Antes de crear un nuevo archivo, pregÃºntate:

1.  ğŸ›‘ **Â¿CuÃ¡ntas features usarÃ¡n esto?**
    *   Si es 1 â†’ **Mantenlo Local** (`_components`, `_hooks`).
    *   Si son 2+ â†’ **PromuÃ©velo a Shared** (`shared/components`).

2.  âš¡ **Â¿Necesita ser del Cliente?**
    *   Intenta mantenerlo como Server Component para mejor SEO y carga inicial.

3.  ğŸ“¢ **Â¿El nombre comunica funcionalidad?**
    *   Prefiere `(auth)` y `(shop)` sobre nombres tÃ©cnicos.

---

La arquitectura no se trata de reglas rÃ­gidas, se trata de **intenciÃ³n**. Al usar la Regla del Scope, tu cÃ³digo cuenta una historia clara, escalable y mantenible.

**Â¿Listo para refactorizar? Empieza moviendo lo local a donde pertenece.**
